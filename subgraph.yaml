specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: OptiFiServiceManager
    network: base-sepolia
    source:
      address: "0xa7e15384f0de1e1ab0f8bdd580ba9497076fbab9"
      abi: OptiFiServiceManager
      startBlock: 21665799
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Debug
        - OptiTaskResponded
        - Initialized
        - NewOptiTaskCreated
        - OwnershipTransferred
        - RewardsInitiatorUpdated
      abis:
        - name: OptiFiServiceManager
          file: ./abis/OptiFiServiceManager.json
      eventHandlers:
        - event: Debug(bytes32,bytes32)
          handler: handleDebug
        - event: OptiTaskResponded(indexed uint32,(address,string,uint32),address,bytes)
          handler: handleOptiTaskResponded
        - event: Initialized(uint8)
          handler: handleInitialized
        - event: NewOptiTaskCreated(indexed uint32,(address,string,uint32))
          handler: handleNewOptiTaskCreated
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: RewardsInitiatorUpdated(address,address)
          handler: handleRewardsInitiatorUpdated
      file: ./src/optifi-service-manager.ts
  - kind: ethereum
    name: TransparentUpgradeableProxy
    network: base-sepolia
    source:
      address: "0x29a8b84566ebaf9348699eaade9a942eaaf6068d"
      abi: OptiFiServiceManager
      startBlock: 21665799
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Debug
        - OptiTaskResponded
        - Initialized
        - NewOptiTaskCreated
        - OwnershipTransferred
        - RewardsInitiatorUpdated
      abis:
        - name: OptiFiServiceManager
          file: ./abis/OptiFiServiceManager.json
      eventHandlers:
        - event: Debug(bytes32,bytes32)
          handler: handleDebug
        - event: OptiTaskResponded(indexed uint32,(address,string,uint32),address,bytes)
          handler: handleOptiTaskResponded
        - event: Initialized(uint8)
          handler: handleInitialized
        - event: NewOptiTaskCreated(indexed uint32,(address,string,uint32))
          handler: handleNewOptiTaskCreated
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: RewardsInitiatorUpdated(address,address)
          handler: handleRewardsInitiatorUpdated
      file: ./src/transparent-upgradeable-proxy.ts
